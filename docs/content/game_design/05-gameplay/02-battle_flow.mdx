import ZoomableDiagram from "../../../src/components/ZoomableDiagram/index";

# Fluxo de Batalha

## Fase 1: Preparação da Batalha

1. Os inimigos são gerados e exibidos para o jogador;
2. Os personagens da equipe inimiga são posicionados no campo de batalha;
3. Os personagens da equipe dos jogadores são posicionados no campo de batalha;
4. A fila de iniciativa é definida, organizando todos os personagens de acordo com suas velocidades.
   - Em caso de empate, o desempate é determinado pela velocidade base do personagem, sem modificadores;
   - Se mesmo assim houver empate, a ordem é aleatória.
5. A batalha começa.

---

## Fase 2: Rodadas

### Declaração de Ações

1. Os inimigos declaram suas ações e alvos;
2. Para cada personagem na equipe dos jogadores:
   - O personagem rola os dados equipados para coletar mana;
   - Os jogadores devem escolher ações e alvos.
3. Após todas as ações serem declaradas, os turnos são resolvidos.

#### Pré-visualização de Ações

Durante a declaração de ações, os jogadores podem **pré-visualizar** os resultados das ações de seus personagens e dos inimigos. Isso permite ajustar sua estratégia antes da execução das ações.

Por exemplo, ao selecionar um inimigo como alvo, o jogador pode ver **o dano estimado** e **quaisquer efeitos colaterais** que a ação possa causar. Da mesma forma, pode verificar o impacto das ações inimigas e tentar mitigar seus efeitos.

### Turnos

1. Começando pelo primeiro personagem na fila de iniciativa, cada personagem executa sua ação;
2. Se um personagem morrer como resultado de uma ação, ele é removido do campo de batalha e da fila antes de agir;
3. Após executar sua ação, o personagem é movido para o final da fila de iniciativa.

### Fim da Rodada

A rodada termina quando todos os personagens na fila de iniciativa tiveram seu turno e, então, é verificado:
   - Se apenas um lado tiver personagens vivos, a batalha termina;
   - Caso contrário, uma nova rodada começa.

---

### Fase 3: Resultado da Rodada

2. No fim da batalha, o resultado é determinado de acordo com o estado das equipes:
   - **Vitória**: Se todos os inimigos forem derrotados, o jogador vence e recebe recompensas.
   - **Derrota**: Se todos os personagens dos jogadores forem derrotados, a batalha termina com um game over.
